<div class="room-details-container-minimal p-3">
  <div class="room-code-card mb-3">
    <h6 class="room-code-title">Share Room Code</h6>
    <div class="room-code-display-wrapper">
      <div class="room-code-text" id="roomCodeMinimalDisplay">{{ roomCode || 'N/A' }}</div>
      <button class="btn btn-copy-room-code" (click)="copyRoomCode()" title="Copy Room Code">
        <lucide-icon name="copy" size="18"></lucide-icon>
        <span>Copy</span>
      </button>
    </div>
    <input type="text" readonly [value]="roomCode" class="visually-hidden" #roomCodeInputForCopy>
  </div>

  <div class="user-list-section mb-3">
    <h6 class="section-title d-flex align-items-center mb-2">
      <lucide-icon name="users" size="18" class="me-2"></lucide-icon>
      Participants ({{ users.length }})
    </h6>
    <ul class="list-group list-group-flush user-list-minimal-v2">
      <li *ngFor="let user of users; trackBy: trackByUserId" class="list-group-item d-flex justify-content-between align-items-center">
        <span class="user-name">{{ user.name }}</span>
        <button *ngIf="isRoomAdmin && user.id !== currentUserId" class="btn btn-icon btn-sm btn-ghost-danger" (click)="kickUser(user.id)" title="Kick {{ user.name }}">
          <lucide-icon name="user-x" size="16"></lucide-icon>
        </button>
      </li>
      <li *ngIf="users.length === 0" class="list-group-item text-muted text-center">
        No other participants yet.
      </li>
    </ul>
  </div>

  <div class="room-actions-section mb-3" *ngIf="isRoomAdmin">
    <button class="btn btn-sm btn-danger w-100 d-flex align-items-center justify-content-center" type="button" (click)="endRoom()">
      <lucide-icon name="log-out" size="16" class="me-2"></lucide-icon>
      End Room
    </button>
  </div>

  <div class="add-music-section mt-auto">
    <div class="input-group input-group-sm">
      <span class="input-group-text">
        <lucide-icon name="youtube" size="16"></lucide-icon>
      </span>
      <input type="text" class="form-control form-control-sm" id="youtubeUrlMinimal" placeholder="Paste YouTube URL" [(ngModel)]="youtubeUrl" (keyup.enter)="addVideoToQueue()">
      <button class="btn btn-sm btn-outline-secondary btn-add-music" type="button" (click)="addVideoToQueue()" [disabled]="!youtubeUrl.trim()" title="Add to Queue">
        <lucide-icon name="plus-circle" size="16"></lucide-icon>
      </button>
    </div>
  </div>
</div>
